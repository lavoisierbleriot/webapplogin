pipeline{
     agent any
    
     stages {
  stage('download from repo') {
    steps {
      git branch: 'Adianie', url: 'https://github.com/lavoisierbleriot/webapplogin.git'
    }
  }

  stage('build an artifact') {
 
    steps {
      sh 'mvn package'
    }
  }

  stage('Deploy to nexus') {

    steps {
      nexusArtifactUploader artifacts: [[artifactId: 'webappAdianie', classifier: 'maven-snapshots', file: '/var/lib/jenkins/workspace/Download and Build artifact/target/webappAdianie.war', type: '**/*.war']], credentialsId: 'admin', groupId: 'com.Adianie', nexusUrl: '3.83.119.169:8081', nexusVersion: 'nexus3', protocol: 'http', repository: 'https://github.com/lavoisierbleriot/webapplogin.git', version: '1.0-SNAPSHOT'
    }
  }






}



















}

